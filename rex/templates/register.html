
<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Register - MacKayShieldsLife</title>
<link rel="icon" href="/static/home/images/favicon.png" type="image/png">
<link href="/static/toastmessage/static/css/jquery.toastmessage.css" rel="stylesheet" >
<link rel="stylesheet" href="/static/home/css/all-stylesheets.css" type="text/css" />
</head>
<body class="login-page">
<div class="page-loader-wrapper page-loader-wrapper-1"> 
      <div class="loader">
         <div class="stick1"></div>
         <div class="stick2"></div>
         <div class="stick3"></div>
         <div class="stick4"></div>
        <!--loader-->    
      </div>
    <!--page-loader-wrapper-->    
   </div>
<!--====================================-->
<!--============== Login ===============--> 
<!--====================================-->
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="main-login">
  <div class="row">
  <div class="login-banner col-lg-5 col-md-5 col-sm-12 col-xs-12">
   <div class="row">
    <div class="darkBlueBg login-box regular-font text-center col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <div>
        <figure><a href="/"><img style="margin-top: 10px" width="220" src="/static/img/logo.png" class="logo" alt="logo2" /></a></figure>
        
         
         {% if data.username_sponsor  == ''%}
            <h5 class="text-center" style="text-transform: inherit;margin-bottom: 70px;margin-top: 50px">Sponsor does not exist. Please try again.</h5>
         {% else %}
         {% if data.val_register == '' %}
            <h1>Create Account</h1>
            <form class="form-horizontal" role="form" name="login" action="/auth/register/{{data.id_sponsor}}" method="POST">
               <div class="form-group">
                  <label>Email <span class="text-danger">*</span></label>
                  <div class="login-field pull-left">
                     <i class="fa fa-envelope-o pull-left"></i>
                     <input autocomplete="off" type="text" class="form-control pull-left" name="email"  id="Username" placeholder="Your  email"  value="{% if data.form and data.val_register == ''%}{{data.form['email']}}{% endif %}">
                     <!--login-field-->
                  </div>
                  <!--form-group-->
               </div>
               <div class="form-group">
                  <label>Country <span class="text-danger">*</span></label>
                  <div class="login-field pull-left">
                     <i class="fa fa-map-marker pull-left"></i>
                     <select class="form-control au-input" name="country" required="required" aria-required="true">
                     {% for item in data.country %} 
                     <option  {% if data.form%}
                     {% if item.country_name == data.form['country']%}selected="selected"{% endif %}
                     {% endif %} data-id="{{item.dialling_code}}" value="{{item.country_name}}">{{item.country_name}}</option>
                     {% endfor %} 
                     </select>
                  </div>
               </div>
               <div class="form-group">
                  <label>Password <span class="text-danger">*</span></label> 
                  <div class="login-field pull-left">
                     <i class="fa fa-key pull-left"></i>
                     <input autocomplete="off" type="password" name="password" autofocus placeholder="Your Password" class="form-control input-no-border au-input"  aria-required="true" > 
                  </div>
               </div>
               <div class="form-group">
                  <label>Repeat Password <span class="text-danger">*</span></label> 
                  <div class="login-field pull-left">
                     <i class="fa fa-key pull-left"></i>
                     <input autocomplete="off" type="password" name="re-password" autofocus placeholder="Your Repeat Password" class="form-control input-no-border au-input"  aria-required="true" > 
                  </div>
               </div>
               <div class="form-group">
                  <label>Sponsor <span class="text-danger">*</span></label> 
                  <div class="login-field pull-left">
                     <i class="fa fa-user pull-left"></i>
                     <input autofocus placeholder="Sponsor" type="text" name="sponsor" class="form-control input-no-border au-input" required="required" aria-required="true" readonly="true" value="{% if data.form%}{{data.form['sponsor']}}{%else%}{{data.username_sponsor}}{% endif %}"> 
                  </div>
               </div>
               <div class="form-group" style="float: left;width: 100%; margin-bottom: 30px;">
                  <div class="pull-left" style="font-size: 13px">
                     <input style="margin-top: 3px; float: left; margin-right: 10px" type="checkbox" 
                     {% if data.form%}
                     {% if data.form['terms'] == 'on' %}
                     checked
                     {% endif %}
                     {% endif %}  name="terms"> Agree the terms and policy
                  </div>
               </div>
               <div class="form-group"  style="float: left;width: 100%; margin-bottom: 10px;">
                  <script src='https://www.google.com/recaptcha/api.js'></script> 
                  <div class="capcha-google text-center" style="width:240px; margin-bottom:15px;margin: 0 auto; display: block">
                     <div class="g-recaptcha"  data-sitekey="6LcESjUUAAAAAN0l4GsSiE2cLLZLZQSRZsEdSroE"></div>
                  </div>
               </div>
               <button type="submit" class="login-btn">Create Account</button>
            </form> 
            {% else %}
                <h5 class="text-center" style="text-transform: inherit;margin-bottom: 70px;margin-top: 50px">Sign up for a successful account. Please confirm your mail to activate your account.</h5>
            {% endif %}
         {% endif %}
         
         <p style="margin-top: 20px;">Â© MacKayShieldsLife 2019.   All rights reserved.</p>
         
      </div>
      <!--darkBlueBg--> 
    </div>  
    <!--row--> 
  </div>    
    <!--login-banner-->
    </div>
    <div class="login-banner-img col-lg-7 col-md-7 col-sm-12 col-xs-12" style="height: 855px !important"> 
      <!--banner-img--> 
    </div>    
    <!--row--> 
  </div>
  <!--col-lg-12--> 
</div>










<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<script src="/static/home/js/jquery-1.12.3.min.js"></script> 
<!-- Include all compiled plugins (below), or include individual files as needed --> 
<script src="/static/home/js/bootstrap/bootstrap.js"></script> 
<!-- Custom --> 
<script src="/static/home/js/custom.js"></script>
<script src="/static/toastmessage/static/js/jquery.toastmessage.js"></script>
{% if data.val_sponsor != ''  or data.val_country != '' or data.val_email != '' or data.val_password != '' or data.val_recaptcha != '' or data.val_terms != '' or data.val_checkemail != ''%}
         

         


         {% if data.val_email == 'empty' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "Please enter your email.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         {% endif %}
         {% if data.val_email == 'not' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "The email address is incorrect. Please check again.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         {% endif %}
         {% if data.val_checkemail == 'not' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "The mail address already exists in the system.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         {% endif %}

         {% if data.val_country == 'empty' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "Please enter your country.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         
         {% endif %}

         {% if data.val_sponsor == 'empty' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "Please enter your sponsor.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         {% endif %}
         {% if data.val_sponsor == 'not' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "Sponsor doesn't exits. Please check again.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         {% endif %}

         

         

         {% if data.val_password == 'empty' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "Please enter your password.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         {% endif %}

         {% if data.val_terms == 'empty' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "You have not agree the terms and policy.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         {% endif %}

         {% if data.val_recaptcha == 'empty' %}
            <script type="text/javascript">
                $().toastmessage('showToast',{
                      text     : "Error Recapcha.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'error'
                  } );
            </script>
         
         {% endif %}



         
           
      {% endif %}
       {% if data.val_register == 'complete' %}
            <script type="text/javascript">
               
                $().toastmessage('showToast',{
                      text     : "Sign up for a successful account. Please confirm your mail to activate your account.",
                      sticky   : false,
                      position : 'top-right',
                      type     : 'success'
                  } );
            </script>
         
         {% endif %}
    <script type="text/javascript">
        function isEmail(email) {
            var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            return regex.test(email);
        }
        $('form').on('submit',function(event){

            var email = $('form input[name="email"]').val();
            var password = $('form input[name="password"]').val();
            var repassword = $('form input[name="re-password"]').val();
            var sponsor = $('form input[name="sponsor"]').val();
            var terms = $('form input[name="terms"]').prop("checked");
           
            if (!isEmail(email))
            {
                $().toastmessage('showToast',{
                    text     : "Please enter your email.",
                    sticky   : false,
                    position : 'top-right',
                    type     : 'error'
                });
                return false;
            }
            if (password == '')
            {
                $().toastmessage('showToast',{
                    text     : "Please enter your password.",
                    sticky   : false,
                    position : 'top-right',
                    type     : 'error'
                });
                return false;
            }
            if (repassword == '')
            {
                $().toastmessage('showToast',{
                    text     : "Please enter your repeat password.",
                    sticky   : false,
                    position : 'top-right',
                    type     : 'error'
                });
                return false;
            }
            if (password != repassword)
            {
                $().toastmessage('showToast',{
                    text     : "Two passwords do not match.",
                    sticky   : false,
                    position : 'top-right',
                    type     : 'error'
                });
                return false;
            }
            if (sponsor == '')
            {
                location.reload();
            }
            if (!terms)
            {
                $().toastmessage('showToast',{
                    text     : "You have not agree the terms and policy.",
                    sticky   : false,
                    position : 'top-right',
                    type     : 'error'
                });
                return false;
            }
            var recaptcha = $("#g-recaptcha-response").val();
            if (recaptcha === "") {
              
                $().toastmessage('showToast',{
                    text     : "Please check the recaptcha.",
                    sticky   : false,
                    position : 'top-right',
                    type     : 'error'
                });
                
                return false;
            }
        })
    </script>
</body>
</html>



